<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="d3.min.js?v=3.2.8"></script>
    <link rel="stylesheet" href="style_01.css">


</head>

 <!-- bodytag with loading the random sound script onload -->

<body onload="playSounds()">


  <!--this is where the background is enabled-->

<!--this is the code responsible for the background changes-->
  <script type="text/javascript">

  var totalWidth;
  var totalHeight;
  var third;
  var mouseZone;
  var imgNumber;


  // Check Cursor Position
  $(window).on("mousemove", function(event) {

      // If it enters the Left Zone
      if ( event.pageX >= 0 && event.pageX < third ) {
        $(".red").css("mix-blend-mode", "multiply");
        $(".yellow").css("mix-blend-mode", "luminosity");
        $(".lilac").css("mix-blend-mode", "opacity");

      }

      // If it enters the Middle Zone
      else if (event.pageX >= third && event.pageX < third * 2) {
        $(".red").css("mix-blend-mode", "substract");
        $(".yellow").css("mix-blend-mode", "darken");
        $(".lilac").css("mix-blend-mode", "multiply");


      }

      // If it enters the Right Zone
      else if (event.pageX >= third * 2 && event.pageX < third * 3  ) {
        $(".red").css("mix-blend-mode", "screen");
        $(".yellow").css("mix-blend-mode", "multiply");
        $(".lilac").css("mix-blend-mode", "lighten");
    
      }

      // Update Screen Info
      $("#currentXPosition").html(event.pageX); $("#currentYPosition").html(event.pageY);
      $("#print").html(mouseZone);

  });

  // Update Variables and Screen Info when the screen size is changed
  $(window).resize(function() { checkSizes(); });
  jQuery(document).ready(function() { checkSizes(); });

  function checkSizes() {
      $("#currentXPosition").html("0"); $("#currentYPosition").html("0");
      totalWidth = $(window).width();
      totalHeight = $(window).height();
      third = totalWidth / 3;
      $("#widthValue").html(totalWidth);
      $("#heightValue").html(totalHeight);
  }






  </script>


    <!--Script for loading sound after page sound-->

		<div id="element"></div>
		<script>
			var sounds = ["whatis4.mp3","whatis5.mp3"],
		    oldSounds = [];

		var playSounds = function () {
		    var index = Math.floor(Math.random() * (sounds.length)),
		        thisSound = sounds[index];

		        oldSounds.push(thisSound);
		        sounds.splice(index, 1);

		        if (sounds.length < 1) {
		            sounds = oldSounds.splice(0, oldSounds.length);
		        }

		        $("#element").html("<audio autoplay><source src=\"" + thisSound + "\" type=\"audio/mpeg\"><embed src=\"" + thisSound + "\" hidden=\"true\" autostart=\"true\" /></audio>");
		}
		</script>

<meta name="viewport" content="width=device-width, initial-scale=1.0">




<!--Here goes the menu-->


  <div class="red"></div>
  <div class="yellow"></div>
  <div class="lilac"></div>


<nav>

  <ul>
   <li id="home"><a href="index.html">HOME</a></li>
   <li><a href="about.html">ABOUT</a></li>
   <li id="name">WHATLIST DOT INFO</li>
   <li><a href="submission.html">SUBMIT</a></li>
   <li id="credits"><a href="credits.html">CREDITS</a></li>
   </ul>
</nav>


<!--Here goes the csv file-->

<div id="wrapper">
<div id="viz">
</div>
</div>


<script src="http://d3js.org/d3.v3.min.js"></script>

<!--replaced data.csv with sources/all_whats.csv to work with the original source -->

        <script type="text/javascript"charset="utf-8">
            d3.text("sources/all_whats.csv", function(data) {
                var parsedCSV = d3.csv.parseRows(data);

                var container = d3.select("#viz")
                    .append("table")

                    .selectAll("tr")
                        .data(parsedCSV).enter()
                        .append("tr")

                    .selectAll("td")
                        .data(function(d) { return d; }).enter()
                        .append("td")
                        .text(function(d) { return d; });
            });
        </script>


</body>
</html>
